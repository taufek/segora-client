<user-tab user="user" active-tab="address"></user-tab>

<div ng-show="!editMode">

    <div style="margin-bottom:10px">
        <button class="btn btn-primary" ng-click="edit()" ng-show="hasAnyRoles(['admin', 'system_admin', 'group_admin'])">Edit</button>
        
        <button class="btn btn-danger pull-right" ng-show="hasAnyRoles(['admin', 'system_admin', 'group_admin'])" confirmed-click="remove()" ng-confirm-click="Are you sure?">Remove</button>
    </div>

    <div class="form-group component">
        <label>Resident</label>
        <div>{{user.full_name}}</div>
    </div>

	<div class="form-group component">
        <label>No.</label>
        <div>{{address.number}}</div>
    </div>
    <div class="form-group component">
        <label>Street</label>
        <div>{{address.street}}</div>
    </div>
</div>

<div ng-show="editMode">

    <div style="margin-bottom:10px">
        <button class="btn btn-primary" ng-click="save()">Save</button>
        <button class="btn btn-default" ng-click="done()">Done</button>
    </div>

	<form role="form" name="addressForm">

        <div class="form-group component">
            <label>Resident</label>
            <div>{{user.full_name}}</div>
        </div>

        <div class="form-group">
            <label for="number">No.</label>
            <input class="form-control" id="number" name="number"
                   ng-model="address.number" placeholder="Enter a house number"
                   required
                   ng-minlength="1">
            <span class="error label label-default" ng-show="addressForm.number.$error.required">
                Required!
            </span>
            <span class="error label label-default" ng-show="addressForm.number.$error.minlength">
                Too short!
            </span>
        </div>

        <div class="form-group">
            <label for="street">Street</label>
            <input class="form-control" id="street" name="street"
                   ng-model="address.street" placeholder="Enter a street"
                   required
                   ng-minlength="2">
            <span class="error label label-default" ng-show="addressForm.street.$error.required">
                Required!
            </span>
            <span class="error label label-default" ng-show="addressForm.street.$error.minlength">
                Too short!
            </span>
        </div>

    </form>
</div>